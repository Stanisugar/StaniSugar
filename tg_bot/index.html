<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <title>uitgb</title>
  <link rel="stylesheet" href="css/main.css">
</head>
<body>
  <div>
    <form method="post" id = "form">
      <h2 align = "center">
          Введите свойства жидкостей
      </h2>
      <div class="form_field">
        <div class="label">
          <label>Плотность при 20<sup>o</sup>C, кг/м<sup>3</sup></label>
          <input type="text" id="density" value="853.5" required maxlength="5">
        </div>
        <div class="label">
          <label>Вязкость при 20<sup>o</sup>C, мм<sup>2</sup>/с</label>
          <input type="text" name="viscousity" value="10.2" required maxlength="6">
        </div>
        <div class="label">
          <label>Асфальтены, масс. %</label>
          <input type="text" name="Asphaltene" value="3.2" maxlength="4" required>
        </div>
        <div class="label">
          <label>Смолы, масс. %</label>
          <input type="text" name="Gums" value="8.7" maxlength="4" required>
        </div>
        <div class="label">
          <label>Парафины, масс. %</label>
          <input type="text" name="Parafins" value="1.5" maxlength="4" required>
        </div>
        <div class="label">
          <label>Плотность воды при 20<sup>o</sup>C, кг/м<sup>3</sup></label>
          <input type="text" name="Water_density" value="1004.2" maxlength="6" required>
        </div>
        <div class="label">
          <label>pH воды, ед. pH</label>
          <input type="text" name="Water_pH" value="6.5" maxlength="3" required>
        </div>
      </div>
      <h2 align = "center">
          Введите содержание воды
      </h2>
      <div class="label">
        <label>Начальное сдержание воды, об %</label>
        <input class ="sub_text" type="text" name="Start_water" value="30.0" required maxlength="4">
      </div>
      <div class="label">
        <label>Конечное сдержание воды, об %</label>
        <input type="text" name="Finish_water" value="10.0" required maxlength="4">
      </div>
      <!-- <h2 align = "center"> -->
        <!-- Результаты расчета</h2>
      <div class="label">
        <label>Оптимальная температура, <sup>o</sup>C</label>
        <input type="text" name="Opt_temperature" value="" maxlength="5">
      </div>
      <div class="label">
        <label>Оптимальное время, мин</label>
        <input type="text" name="Opt_temperature" value="" maxlength="5">
      </div>
      <div class="label">
        <label>Оптимальная дозировка, г/т</label>
        <input type="text" name="Opt_reagent" value="" maxlength="5">
      </div> -->
      <div class="button_field">
        <button type="reset" id="reset"> Очистить </button>
        <button type="submit" id="calc"> Рассчитать </button>
        </div>
      </form>
     <!-- <script src ="./h.js"> </script> -->
   </div>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
   <script>
     let tg = window.Telegram.WebApp;
     tg.expand()

     let form = document.getElementById('form')
     function getValues(event){
       event.preventDefault();
        let fields = document.querySelectorAll('input');
        let values = {};
        fields.forEach(field => {
          let {name, value} = field;

          values[name] = value;
        });
       console.log(JSON.stringify(values))
       tg.sendData(JSON.stringify(values));
       tg.close()
     }
     form.addEventListener('submit', getValues);

   </script>
</body>
</html>
